<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SoundWave Studio</title>
    <link rel="stylesheet" href="/projects/projects.css">
</head>
<body>
    <a href="../../portfolio.html">
        <div class="backbutton">
            BACK
        </div>
    </a>
    <div class="container">
        <div class="column">
        </div>
        <div class="main">
            <div id="buttons"></div>
            <div class="learningoutcomes">
                <div class="outcomesbutton prof">PROFESSIONAL STANDARDS</div>
                <div class="outcomesbutton iter">ITERATIVE DESIGN</div>
            </div>

            <h1>title</h1>
            <p>description</p>
            <p>content</p>
        </div>
        <div class="column">
        </div>
    </div>
    <div id="content"></div>
    <script>
        fetch('/json/soundwave.json')
            .then(response => response.json()) // Parse the data as JSON
            .then(data => {
                // Select the existing elements
                const h1 = document.querySelector('h1');
                const p = document.querySelectorAll('p');

                // Update their content
                h1.textContent = data.title;
                p[0].textContent = data.description;
                p[1].textContent = data.pagecontent;

                // Select the learningoutcomes div
                const learningOutcomes = document.querySelector('.learningoutcomes');

                // Remove existing outcome buttons
                while (learningOutcomes.firstChild) {
                    learningOutcomes.firstChild.remove();
                }

                // Add new outcome buttons
                data.tags.forEach(tag => {
                    const button = document.createElement('div');
                    button.className = 'outcomesbutton ' + tag.slice(0, 4);
                    button.textContent = tag.toUpperCase();
                    learningOutcomes.appendChild(button);
                });
            })
            .catch(error => console.error('Error:', error));
        // Fetch the JSON file for buttons
        fetch('/json/buttons.json')
            .then(response => response.json()) // Parse the data as JSON
            .then(buttonsData => {
                // Select the buttons div
                const buttonsDiv = document.querySelector('#buttons');

                // Create buttons
                buttonsData.forEach(buttonData => {
                    const button = document.createElement('button');
                    button.textContent = buttonData.name;
                    button.addEventListener('click', () => {
                        // Fetch the JSON file for the clicked button
                        fetch(`../../json/${buttonData.file}`)
                            .then(response => response.json()) // Parse the data as JSON
                            .then(data => {
                                // Select the existing elements
                                const h1 = document.querySelector('h1');
                                const p = document.querySelectorAll('p');

                                // Update their content
                                h1.textContent = data.title;
                                p[0].textContent = data.description;
                                p[1].textContent = data.pagecontent;

                                // Select the learningoutcomes div
                                const learningOutcomes = document.querySelector('.learningoutcomes');

                                // Remove existing outcome buttons
                                while (learningOutcomes.firstChild) {
                                    learningOutcomes.firstChild.remove();
                                }

                                // Add new outcome buttons
                                data.tags.forEach(tag => {
                                    const outcomeButton = document.createElement('div');
                                    outcomeButton.className = 'outcomesbutton ' + tag.slice(0, 4);
                                    outcomeButton.textContent = tag.toUpperCase();
                                    learningOutcomes.appendChild(outcomeButton);
                                });
                            })
                            .catch(error => console.error('Error:', error));
                    });
                    buttonsDiv.appendChild(button);
                });
            })
            .catch(error => console.error('Error:', error));
    </script>
</body>
</html>